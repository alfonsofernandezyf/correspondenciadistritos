<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Consulta de Distritos</title>

  <!-- Bootstrap 5 -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

  <!-- DataTables 1.13.8 + Bootstrap 5 + Responsive (CSS) -->
  <link rel="stylesheet"
        href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet"
        href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css">
</head>
<body class="bg-light">

  <div class="container py-4">
    <h1 class="text-center mb-4">Consulta de Distritos</h1>
    <table id="tablaDistritos"
           class="table table-striped table-bordered nowrap w-100"></table>
  </div>

  <!-- Dependencias JS (orden exacto) -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- DataTables 1.13.8 núcleo + Bootstrap 5 -->
  <script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap5.min.js"></script>

  <!-- Responsive 2.5.0 -->
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>

  <!-- Tu lógica -->
  <script>
    fetch('distritos.json')
      .then(r => r.json())
      .then(crearTabla)
      .catch(err => console.error('No se pudo leer distritos.json', err));

    function crearTabla(data) {
      $('#tablaDistritos').DataTable({
        data,
        columns: [
          { title: 'Sección',          data: 'SECCIÓN' },
          { title: 'Demarcación',      data: 'DEMARCACIÓN TERRITORIAL' },
          { title: 'Distrito Federal', data: 'DISTRITO JUDICIAL ELECTORAL FEDERAL' },
          { title: 'PDF Federal',      data: 'ArchivoJudicial', render: linkPDF },
          { title: 'Distrito Local',   data: 'DISTRITO JUDICIAL ELECTORAL LOCAL' },
          { title: 'PDF Local',        data: 'ArchivoLocal',   render: linkPDF }
        ],
        responsive: true,
        pageLength: 25,
        language: {
          url: 'https://cdn.datatables.net/plug-ins/1.13.8/i18n/es-MX.json'
        }
      });
    }

    function linkPDF(nombre) {
      return nombre
        ? `<a class="btn btn-sm btn-primary"
               href="pdfs/${encodeURIComponent(nombre)}"
               target="_blank" rel="noopener">Ver PDF</a>`
        : '';
    }
  </script>
</body>
</html>
